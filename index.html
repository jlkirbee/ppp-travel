<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Where does your dollar go furthest?</title>
  <style>
    :root {
      --bg: #f5f1eb;
      --bg-2: #fbf9f6;
      --card: #ffffff;
      --text: #1d1a16;
      --muted: #6f6a63;
      --accent: #8b8177;
      --line: rgba(29, 26, 22, 0.08);
      --line-strong: rgba(29, 26, 22, 0.16);
      --green: rgba(142, 176, 122, 0.2);
      --yellow: rgba(210, 188, 120, 0.22);
      --red: rgba(203, 128, 112, 0.22);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background:
        radial-gradient(circle at top, #fdfcf9, transparent 55%),
        radial-gradient(circle at 20% 20%, rgba(212, 203, 189, 0.25), transparent 55%),
        var(--bg);
      color: var(--text);
      font-family: "Avenir Next", "Avenir", "Helvetica Neue", "Segoe UI", system-ui, sans-serif;
      line-height: 1.6;
    }

    header {
      padding: 56px 24px 28px;
      background: var(--bg-2);
      border-bottom: 1px solid var(--line-strong);
    }

    .container {
      max-width: 1160px;
      margin: 0 auto;
    }

    h1 {
      font-family: "Iowan Old Style", "Palatino", "Palatino Linotype", "Book Antiqua", "Georgia", serif;
      font-size: clamp(2.4rem, 3.6vw, 3.9rem);
      margin: 0 0 12px;
      letter-spacing: -0.015em;
    }

    .subtitle {
      font-size: clamp(1rem, 1.2vw, 1.2rem);
      color: var(--muted);
      max-width: 820px;
      line-height: 1.7;
      margin: 0;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
      align-items: center;
      margin-top: 26px;
    }

    .search {
      flex: 1 1 320px;
      background: #ffffff;
      border: 1px solid var(--line-strong);
      color: var(--text);
      border-radius: 10px;
      padding: 12px 14px;
      font-size: 1rem;
      outline: none;
      box-shadow: 0 1px 0 rgba(29, 26, 22, 0.04);
    }

    .legend {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .legend span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .dot {
      width: 12px;
      height: 12px;
      border-radius: 999px;
      display: inline-block;
    }

    main {
      padding: 32px 24px 40px;
    }

    .table-wrap {
      background: var(--card);
      border: 1px solid var(--line-strong);
      border-radius: 14px;
      box-shadow: 0 14px 40px rgba(29, 26, 22, 0.08);
    }

    .table-scroll {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      touch-action: pan-x;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
      min-width: 980px;
    }

    thead th {
      position: sticky;
      top: 0;
      background: var(--bg-2);
      color: var(--muted);
      text-align: left;
      padding: 14px 12px;
      border-bottom: 1px solid var(--line-strong);
      cursor: pointer;
      user-select: none;
      white-space: nowrap;
    }

    thead th:hover {
      color: var(--text);
    }

    tbody td {
      padding: 12px;
      border-bottom: 1px solid var(--line);
      white-space: nowrap;
    }

    tbody tr:last-child td {
      border-bottom: none;
    }

    tbody tr.quartile-low {
      background: var(--green);
    }

    tbody tr.quartile-mid {
      background: var(--yellow);
    }

    tbody tr.quartile-high {
      background: var(--red);
    }

    td.total {
      font-weight: 700;
      font-size: 1.05rem;
      color: #5f4b32;
    }

    .muted {
      color: var(--muted);
    }

    footer {
      padding: 24px;
      color: var(--muted);
      font-size: 0.9rem;
    }

    @media (max-width: 900px) {
      thead th, tbody td {
        padding: 10px 10px;
        font-size: 0.85rem;
      }
    }

    @media (max-width: 720px) {
      header {
        padding: 36px 16px 20px;
      }

      main {
        padding: 20px 16px 28px;
      }

      .table-wrap {
        border-radius: 12px;
      }

      table {
        font-size: 0.8rem;
      }

      tbody td, thead th {
        padding: 9px 8px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Where does your dollar go furthest?</h1>
      <p class="subtitle">
        A global mid-range travel price map built around real cost-of-living indexes and mid-range tourist spending patterns. Sort by any column to find the best PPP value for a full day of travel comfort.
      </p>
      <div class="controls">
        <input class="search" id="search" type="text" placeholder="Search country or cityâ€¦" />
        <div class="legend">
          <span><i class="dot" style="background: var(--green)"></i> Cheapest quartile</span>
          <span><i class="dot" style="background: var(--yellow)"></i> Middle quartiles</span>
          <span><i class="dot" style="background: var(--red)"></i> Most expensive quartile</span>
        </div>
      </div>
    </div>
  </header>
  <main>
    <div class="container">
      <div class="table-wrap">
        <div class="table-scroll">
          <table id="cost-table">
            <thead>
              <tr>
                <th data-key="rank">Rank</th>
                <th data-key="country">Country</th>
                <th data-key="city">Most popular tourist city</th>
                <th data-key="hotel">4-star hotel</th>
                <th data-key="breakfast">Breakfast</th>
                <th data-key="coffee">Coffee/tea</th>
                <th data-key="attraction1">Attraction</th>
                <th data-key="transport">Daily transport</th>
                <th data-key="lunch">Lunch</th>
                <th data-key="attraction2">2nd activity</th>
                <th data-key="dinner">Dinner</th>
                <th data-key="nightlife">Nightlife</th>
                <th data-key="total">Total daily</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <div class="container">
      Data is approximate and intended for quick comparisons. Mid-range tourist spending model scaled to Numbeo's Feb 2026 cost-of-living indexes. Values shown in USD.
    </div>
  </footer>

  <script>
    const base = {
      hotel: 180,
      breakfast: 15,
      coffee: 5,
      attraction1: 22,
      transport: 45,
      lunch: 22,
      attraction2: 28,
      dinner: 38,
      nightlife: 24,
    };

    const usIndex = {
      col: 68.8,
      colPlusRent: 56.3,
      restaurant: 72.8,
    };

    const destinations = [
      { country: "United States", flag: "ðŸ‡ºðŸ‡¸", city: "New York City", col: 68.8, colPlusRent: 56.3, restaurant: 72.8 },
      { country: "Canada", flag: "ðŸ‡¨ðŸ‡¦", city: "Toronto", col: 63.0, colPlusRent: 48.9, restaurant: 64.1 },
      { country: "Mexico", flag: "ðŸ‡²ðŸ‡½", city: "Mexico City", col: 42.6, colPlusRent: 31.5, restaurant: 43.6 },
      { country: "Bahamas", flag: "ðŸ‡§ðŸ‡¸", city: "Nassau", col: 98.8, colPlusRent: 77.1, restaurant: 109.0 },
      { country: "Dominican Republic", flag: "ðŸ‡©ðŸ‡´", city: "Punta Cana", col: 38.2, colPlusRent: 27.4, restaurant: 35.9 },
      { country: "Jamaica", flag: "ðŸ‡¯ðŸ‡²", city: "Montego Bay", col: 54.5, colPlusRent: 38.7, restaurant: 46.8 },
      { country: "Cuba", flag: "ðŸ‡¨ðŸ‡º", city: "Havana", col: 41.8, colPlusRent: 28.3, restaurant: 26.3 },
      { country: "Costa Rica", flag: "ðŸ‡¨ðŸ‡·", city: "San Jose", col: 52.9, colPlusRent: 38.3, restaurant: 47.5 },
      { country: "Panama", flag: "ðŸ‡µðŸ‡¦", city: "Panama City", col: 45.5, colPlusRent: 35.6, restaurant: 42.9 },
      { country: "Guatemala", flag: "ðŸ‡¬ðŸ‡¹", city: "Antigua", col: 40.4, colPlusRent: 29.5, restaurant: 38.8 },
      { country: "El Salvador", flag: "ðŸ‡¸ðŸ‡»", city: "San Salvador", col: 39.6, colPlusRent: 29.4, restaurant: 34.4 },
      { country: "Honduras", flag: "ðŸ‡­ðŸ‡³", city: "Roatan", col: 36.6, colPlusRent: 25.7, restaurant: 34.1 },
      { country: "Nicaragua", flag: "ðŸ‡³ðŸ‡®", city: "Granada", col: 34.2, colPlusRent: 22.5, restaurant: 26.0 },
      { country: "Belize", flag: "ðŸ‡§ðŸ‡¿", city: "Ambergris Caye", col: 46.9, colPlusRent: 32.0, restaurant: 39.3 },
      { country: "Colombia", flag: "ðŸ‡¨ðŸ‡´", city: "Cartagena", col: 31.7, colPlusRent: 22.4, restaurant: 27.0 },
      { country: "Peru", flag: "ðŸ‡µðŸ‡ª", city: "Cusco", col: 33.5, colPlusRent: 23.6, restaurant: 28.3 },
      { country: "Chile", flag: "ðŸ‡¨ðŸ‡±", city: "Santiago", col: 39.0, colPlusRent: 26.8, restaurant: 39.7 },
      { country: "Argentina", flag: "ðŸ‡¦ðŸ‡·", city: "Buenos Aires", col: 41.3, colPlusRent: 28.3, restaurant: 47.9 },
      { country: "Uruguay", flag: "ðŸ‡ºðŸ‡¾", city: "Montevideo", col: 55.6, colPlusRent: 37.3, restaurant: 59.6 },
      { country: "Brazil", flag: "ðŸ‡§ðŸ‡·", city: "Rio de Janeiro", col: 30.1, colPlusRent: 20.5, restaurant: 26.0 },
      { country: "Ecuador", flag: "ðŸ‡ªðŸ‡¨", city: "Quito", col: 30.9, colPlusRent: 21.0, restaurant: 27.0 },
      { country: "Bolivia", flag: "ðŸ‡§ðŸ‡´", city: "La Paz", col: 27.3, colPlusRent: 19.0, restaurant: 22.2 },
      { country: "Paraguay", flag: "ðŸ‡µðŸ‡¾", city: "Asuncion", col: 28.5, colPlusRent: 20.3, restaurant: 26.4 },
      { country: "Venezuela", flag: "ðŸ‡»ðŸ‡ª", city: "Caracas", col: 37.7, colPlusRent: 24.0, restaurant: 40.7 },
      { country: "Trinidad and Tobago", flag: "ðŸ‡¹ðŸ‡¹", city: "Port of Spain", col: 52.0, colPlusRent: 35.2, restaurant: 47.4 },
      { country: "Guyana", flag: "ðŸ‡¬ðŸ‡¾", city: "Georgetown", col: 50.4, colPlusRent: 39.0, restaurant: 53.8 },
      { country: "Suriname", flag: "ðŸ‡¸ðŸ‡·", city: "Paramaribo", col: 42.3, colPlusRent: 28.2, restaurant: 39.9 },
      { country: "Iceland", flag: "ðŸ‡®ðŸ‡¸", city: "Reykjavik", col: 97.2, colPlusRent: 75.9, restaurant: 104.9 },
      { country: "Ireland", flag: "ðŸ‡®ðŸ‡ª", city: "Dublin", col: 70.6, colPlusRent: 58.7, restaurant: 76.6 },
      { country: "United Kingdom", flag: "ðŸ‡¬ðŸ‡§", city: "London", col: 67.8, colPlusRent: 51.9, restaurant: 72.9 },
      { country: "France", flag: "ðŸ‡«ðŸ‡·", city: "Paris", col: 67.7, colPlusRent: 47.5, restaurant: 66.2 },
      { country: "Spain", flag: "ðŸ‡ªðŸ‡¸", city: "Barcelona", col: 51.6, colPlusRent: 39.0, restaurant: 55.1 },
      { country: "Portugal", flag: "ðŸ‡µðŸ‡¹", city: "Lisbon", col: 48.8, colPlusRent: 38.3, restaurant: 45.6 },
      { country: "Italy", flag: "ðŸ‡®ðŸ‡¹", city: "Rome", col: 61.4, colPlusRent: 43.1, restaurant: 64.7 },
      { country: "Germany", flag: "ðŸ‡©ðŸ‡ª", city: "Berlin", col: 68.7, colPlusRent: 49.0, restaurant: 66.9 },
      { country: "Netherlands", flag: "ðŸ‡³ðŸ‡±", city: "Amsterdam", col: 73.4, colPlusRent: 57.9, restaurant: 81.6 },
      { country: "Belgium", flag: "ðŸ‡§ðŸ‡ª", city: "Brussels", col: 68.6, colPlusRent: 48.6, restaurant: 80.7 },
      { country: "Switzerland", flag: "ðŸ‡¨ðŸ‡­", city: "Zurich", col: 110.7, colPlusRent: 84.3, restaurant: 111.3 },
      { country: "Austria", flag: "ðŸ‡¦ðŸ‡¹", city: "Vienna", col: 71.3, colPlusRent: 50.7, restaurant: 71.5 },
      { country: "Denmark", flag: "ðŸ‡©ðŸ‡°", city: "Copenhagen", col: 78.9, colPlusRent: 56.6, restaurant: 93.7 },
      { country: "Norway", flag: "ðŸ‡³ðŸ‡´", city: "Oslo", col: 83.7, colPlusRent: 59.4, restaurant: 88.6 },
      { country: "Sweden", flag: "ðŸ‡¸ðŸ‡ª", city: "Stockholm", col: 68.0, colPlusRent: 47.8, restaurant: 70.8 },
      { country: "Finland", flag: "ðŸ‡«ðŸ‡®", city: "Helsinki", col: 69.0, colPlusRent: 48.0, restaurant: 74.1 },
      { country: "Poland", flag: "ðŸ‡µðŸ‡±", city: "Krakow", col: 47.3, colPlusRent: 34.4, restaurant: 48.1 },
      { country: "Czech Republic", flag: "ðŸ‡¨ðŸ‡¿", city: "Prague", col: 53.0, colPlusRent: 38.6, restaurant: 43.1 },
      { country: "Slovakia", flag: "ðŸ‡¸ðŸ‡°", city: "Bratislava", col: 49.6, colPlusRent: 35.2, restaurant: 43.3 },
      { country: "Hungary", flag: "ðŸ‡­ðŸ‡º", city: "Budapest", col: 46.9, colPlusRent: 32.3, restaurant: 44.7 },
      { country: "Romania", flag: "ðŸ‡·ðŸ‡´", city: "Bucharest", col: 40.6, colPlusRent: 27.8, restaurant: 43.5 },
      { country: "Bulgaria", flag: "ðŸ‡§ðŸ‡¬", city: "Sofia", col: 41.6, colPlusRent: 28.0, restaurant: 42.6 },
      { country: "Greece", flag: "ðŸ‡¬ðŸ‡·", city: "Athens", col: 54.0, colPlusRent: 36.0, restaurant: 59.2 },
      { country: "Croatia", flag: "ðŸ‡­ðŸ‡·", city: "Dubrovnik", col: 52.4, colPlusRent: 37.1, restaurant: 55.3 },
      { country: "Slovenia", flag: "ðŸ‡¸ðŸ‡®", city: "Ljubljana", col: 54.1, colPlusRent: 39.1, restaurant: 51.3 },
      { country: "Serbia", flag: "ðŸ‡·ðŸ‡¸", city: "Belgrade", col: 42.6, colPlusRent: 29.5, restaurant: 42.2 },
      { country: "Montenegro", flag: "ðŸ‡²ðŸ‡ª", city: "Kotor", col: 42.7, colPlusRent: 31.0, restaurant: 44.8 },
      { country: "Albania", flag: "ðŸ‡¦ðŸ‡±", city: "Tirana", col: 45.8, colPlusRent: 31.7, restaurant: 43.5 },
      { country: "Bosnia and Herzegovina", flag: "ðŸ‡§ðŸ‡¦", city: "Sarajevo", col: 38.7, colPlusRent: 25.0, restaurant: 32.1 },
      { country: "North Macedonia", flag: "ðŸ‡²ðŸ‡°", city: "Skopje", col: 35.5, colPlusRent: 23.2, restaurant: 29.1 },
      { country: "Ukraine", flag: "ðŸ‡ºðŸ‡¦", city: "Kyiv", col: 28.2, colPlusRent: 19.2, restaurant: 25.4 },
      { country: "Russia", flag: "ðŸ‡·ðŸ‡º", city: "Moscow", col: 36.5, colPlusRent: 25.7, restaurant: 35.4 },
      { country: "Turkey", flag: "ðŸ‡¹ðŸ‡·", city: "Istanbul", col: 39.2, colPlusRent: 27.6, restaurant: 37.1 },
      { country: "Georgia", flag: "ðŸ‡¬ðŸ‡ª", city: "Tbilisi", col: 33.1, colPlusRent: 24.0, restaurant: 36.2 },
      { country: "Armenia", flag: "ðŸ‡¦ðŸ‡²", city: "Yerevan", col: 40.9, colPlusRent: 29.5, restaurant: 40.3 },
      { country: "Cyprus", flag: "ðŸ‡¨ðŸ‡¾", city: "Limassol", col: 58.8, colPlusRent: 44.6, restaurant: 60.9 },
      { country: "Malta", flag: "ðŸ‡²ðŸ‡¹", city: "Valletta", col: 56.8, colPlusRent: 44.1, restaurant: 64.1 },
      { country: "Estonia", flag: "ðŸ‡ªðŸ‡ª", city: "Tallinn", col: 59.7, colPlusRent: 40.5, restaurant: 64.9 },
      { country: "Latvia", flag: "ðŸ‡±ðŸ‡»", city: "Riga", col: 52.3, colPlusRent: 34.3, restaurant: 54.6 },
      { country: "Lithuania", flag: "ðŸ‡±ðŸ‡¹", city: "Vilnius", col: 51.2, colPlusRent: 35.3, restaurant: 56.3 },
      { country: "Andorra", flag: "ðŸ‡¦ðŸ‡©", city: "Andorra la Vella", col: 55.1, colPlusRent: 45.2, restaurant: 56.1 },
      { country: "Israel", flag: "ðŸ‡®ðŸ‡±", city: "Tel Aviv", col: 79.7, colPlusRent: 58.0, restaurant: 89.9 },
      { country: "United Arab Emirates", flag: "ðŸ‡¦ðŸ‡ª", city: "Dubai", col: 55.2, colPlusRent: 48.2, restaurant: 56.5 },
      { country: "Qatar", flag: "ðŸ‡¶ðŸ‡¦", city: "Doha", col: 50.4, colPlusRent: 45.8, restaurant: 55.4 },
      { country: "Saudi Arabia", flag: "ðŸ‡¸ðŸ‡¦", city: "Riyadh", col: 43.9, colPlusRent: 30.4, restaurant: 34.5 },
      { country: "Oman", flag: "ðŸ‡´ðŸ‡²", city: "Muscat", col: 43.6, colPlusRent: 30.0, restaurant: 41.8 },
      { country: "Jordan", flag: "ðŸ‡¯ðŸ‡´", city: "Amman", col: 39.4, colPlusRent: 25.3, restaurant: 40.7 },
      { country: "Lebanon", flag: "ðŸ‡±ðŸ‡§", city: "Beirut", col: 41.7, colPlusRent: 29.5, restaurant: 44.2 },
      { country: "Egypt", flag: "ðŸ‡ªðŸ‡¬", city: "Cairo", col: 21.6, colPlusRent: 13.8, restaurant: 20.1 },
      { country: "Morocco", flag: "ðŸ‡²ðŸ‡¦", city: "Marrakesh", col: 31.4, colPlusRent: 21.1, restaurant: 25.0 },
      { country: "Tunisia", flag: "ðŸ‡¹ðŸ‡³", city: "Tunis", col: 29.1, colPlusRent: 18.5, restaurant: 17.9 },
      { country: "South Africa", flag: "ðŸ‡¿ðŸ‡¦", city: "Cape Town", col: 37.1, colPlusRent: 26.4, restaurant: 35.6 },
      { country: "Kenya", flag: "ðŸ‡°ðŸ‡ª", city: "Nairobi", col: 28.9, colPlusRent: 19.5, restaurant: 25.9 },
      { country: "Tanzania", flag: "ðŸ‡¹ðŸ‡¿", city: "Zanzibar City", col: 26.6, colPlusRent: 18.8, restaurant: 21.3 },
      { country: "Uganda", flag: "ðŸ‡ºðŸ‡¬", city: "Kampala", col: 27.0, colPlusRent: 19.6, restaurant: 25.1 },
      { country: "Rwanda", flag: "ðŸ‡·ðŸ‡¼", city: "Kigali", col: 25.0, colPlusRent: 19.4, restaurant: 21.9 },
      { country: "Ghana", flag: "ðŸ‡¬ðŸ‡­", city: "Accra", col: 33.9, colPlusRent: 23.7, restaurant: 35.2 },
      { country: "Nigeria", flag: "ðŸ‡³ðŸ‡¬", city: "Lagos", col: 27.7, colPlusRent: 25.5, restaurant: 21.0 },
      { country: "Ethiopia", flag: "ðŸ‡ªðŸ‡¹", city: "Addis Ababa", col: 41.8, colPlusRent: 31.3, restaurant: 22.9 },
      { country: "Japan", flag: "ðŸ‡¯ðŸ‡µ", city: "Tokyo", col: 47.5, colPlusRent: 32.8, restaurant: 30.3 },
      { country: "South Korea", flag: "ðŸ‡°ðŸ‡·", city: "Seoul", col: 61.6, colPlusRent: 41.3, restaurant: 35.8 },
      { country: "China", flag: "ðŸ‡¨ðŸ‡³", city: "Shanghai", col: 30.5, colPlusRent: 21.5, restaurant: 21.0 },
      { country: "Taiwan", flag: "ðŸ‡¹ðŸ‡¼", city: "Taipei", col: 49.7, colPlusRent: 33.9, restaurant: 27.4 },
      { country: "Hong Kong (China)", flag: "ðŸ‡­ðŸ‡°", city: "Hong Kong", col: 75.2, colPlusRent: 69.8, restaurant: 51.1 },
      { country: "Singapore", flag: "ðŸ‡¸ðŸ‡¬", city: "Singapore", col: 87.7, colPlusRent: 81.2, restaurant: 55.5 },
      { country: "Thailand", flag: "ðŸ‡¹ðŸ‡­", city: "Bangkok", col: 38.0, colPlusRent: 27.2, restaurant: 25.0 },
      { country: "Vietnam", flag: "ðŸ‡»ðŸ‡³", city: "Ho Chi Minh City", col: 26.4, colPlusRent: 19.1, restaurant: 15.6 },
      { country: "Malaysia", flag: "ðŸ‡²ðŸ‡¾", city: "Kuala Lumpur", col: 34.0, colPlusRent: 22.9, restaurant: 25.2 },
      { country: "Indonesia", flag: "ðŸ‡®ðŸ‡©", city: "Bali", col: 26.1, colPlusRent: 18.5, restaurant: 15.3 },
      { country: "Philippines", flag: "ðŸ‡µðŸ‡­", city: "Manila", col: 30.1, colPlusRent: 20.2, restaurant: 19.7 },
      { country: "Cambodia", flag: "ðŸ‡°ðŸ‡­", city: "Siem Reap", col: 34.8, colPlusRent: 23.7, restaurant: 25.4 },
      { country: "Sri Lanka", flag: "ðŸ‡±ðŸ‡°", city: "Colombo", col: 33.9, colPlusRent: 22.0, restaurant: 24.3 },
      { country: "Nepal", flag: "ðŸ‡³ðŸ‡µ", city: "Kathmandu", col: 22.6, colPlusRent: 13.8, restaurant: 17.4 },
      { country: "Bangladesh", flag: "ðŸ‡§ðŸ‡©", city: "Dhaka", col: 22.8, colPlusRent: 13.8, restaurant: 17.5 },
      { country: "Pakistan", flag: "ðŸ‡µðŸ‡°", city: "Lahore", col: 19.6, colPlusRent: 12.4, restaurant: 17.2 },
      { country: "Australia", flag: "ðŸ‡¦ðŸ‡º", city: "Sydney", col: 67.9, colPlusRent: 52.7, restaurant: 65.6 },
      { country: "New Zealand", flag: "ðŸ‡³ðŸ‡¿", city: "Auckland", col: 60.3, colPlusRent: 45.0, restaurant: 59.3 },
      { country: "Fiji", flag: "ðŸ‡«ðŸ‡¯", city: "Nadi", col: 34.3, colPlusRent: 26.7, restaurant: 32.5 },
      { country: "Maldives", flag: "ðŸ‡²ðŸ‡»", city: "Male", col: 48.9, colPlusRent: 38.1, restaurant: 42.9 }
    ];

    const money = (value) => `$${value.toFixed(1)}`;

    const computeCosts = (entry) => {
      const hotel = base.hotel * (entry.colPlusRent / usIndex.colPlusRent);
      const restaurantScale = entry.restaurant / usIndex.restaurant;
      const costScale = entry.col / usIndex.col;

      const breakfast = base.breakfast * restaurantScale;
      const coffee = base.coffee * restaurantScale;
      const lunch = base.lunch * restaurantScale;
      const dinner = base.dinner * restaurantScale;
      const nightlife = base.nightlife * restaurantScale;
      const attraction1 = base.attraction1 * costScale;
      const attraction2 = base.attraction2 * costScale;
      const transport = base.transport * costScale;

      const total = hotel + breakfast + coffee + lunch + dinner + nightlife + attraction1 + attraction2 + transport;

      return {
        ...entry,
        hotel,
        breakfast,
        coffee,
        attraction1,
        transport,
        lunch,
        attraction2,
        dinner,
        nightlife,
        total,
      };
    };

    let rows = destinations.map(computeCosts);
    let sortKey = "total";
    let sortDir = "asc";

    const tbody = document.querySelector("#cost-table tbody");

    const sortRows = () => {
      rows.sort((a, b) => {
        const aVal = a[sortKey];
        const bVal = b[sortKey];
        if (typeof aVal === "string") {
          return sortDir === "asc" ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
        }
        return sortDir === "asc" ? aVal - bVal : bVal - aVal;
      });
    };

    const applyQuartiles = (list) => {
      const sorted = [...list].sort((a, b) => a.total - b.total);
      const q1 = sorted[Math.floor(sorted.length * 0.25)].total;
      const q3 = sorted[Math.floor(sorted.length * 0.75)].total;
      return { q1, q3 };
    };

    const render = () => {
      sortRows();
      const { q1, q3 } = applyQuartiles(rows);
      tbody.innerHTML = "";

      rows.forEach((row, index) => {
        const tr = document.createElement("tr");
        const quartileClass = row.total <= q1 ? "quartile-low" : row.total >= q3 ? "quartile-high" : "quartile-mid";
        tr.className = quartileClass;

        const cells = [
          index + 1,
          `${row.flag} ${row.country}`,
          row.city,
          money(row.hotel),
          money(row.breakfast),
          money(row.coffee),
          money(row.attraction1),
          money(row.transport),
          money(row.lunch),
          money(row.attraction2),
          money(row.dinner),
          money(row.nightlife),
          money(row.total),
        ];

        cells.forEach((value, i) => {
          const td = document.createElement("td");
          td.textContent = value;
          if (i === cells.length - 1) td.classList.add("total");
          tr.appendChild(td);
        });

        tbody.appendChild(tr);
      });
    };

    document.querySelectorAll("thead th").forEach((th) => {
      th.addEventListener("click", () => {
        const key = th.dataset.key;
        if (!key) return;
        if (sortKey === key) {
          sortDir = sortDir === "asc" ? "desc" : "asc";
        } else {
          sortKey = key;
          sortDir = key === "country" || key === "city" ? "asc" : "asc";
        }
        render();
      });
    });

    document.getElementById("search").addEventListener("input", (event) => {
      const term = event.target.value.toLowerCase();
      rows = destinations
        .map(computeCosts)
        .filter((row) => row.country.toLowerCase().includes(term) || row.city.toLowerCase().includes(term));
      render();
    });

    render();
  </script>
</body>
</html>
